---
import PageLayout from '@/layouts/page-layout.astro'

const posts = (await Astro.glob('./posts/*.{md,mdx}')).sort((a, b) => {
  return (
    new Date(b.frontmatter.date).valueOf() -
    new Date(a.frontmatter.date).valueOf()
  )
})
---

<PageLayout>
  <ul class="flex flex-col gap-3 my-6">
    {
      posts.map((post) => {
        return (
          <li>
            <h2 class="text-md md:text-lg hover:underline">
              <a href={post.url}>{post.frontmatter.title}</a>
            </h2>
            <time
              class="text-xs text-gray-500 md:text-sm flex-1"
              datetime={post.frontmatter.date}
            >
              {new Date(post.frontmatter.date).toLocaleDateString('ko-KR', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
              })}
            </time>
          </li>
        )
      })
    }
  </ul>
</PageLayout>
